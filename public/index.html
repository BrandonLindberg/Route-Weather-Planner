<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SkyRoute: Weather & Trip Planner</title>
    
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet-routing-machine@latest/dist/leaflet-routing-machine.css" />
    
    <link rel="stylesheet" href="css/style.css">
</head>
<body>

    <div class="app-container">
        
        <aside class="sidebar">
            <div class="logo-area">
                <h1>SkyRoute</h1>
                <p>Live Weather & Routing</p>
            </div>

            <div class="control-group">
                <h3>Map Layers</h3>
                <div class="button-group">
                    <button id="btn-street" class="active" onclick="switchLayer('street')">Street</button>
                    <button id="btn-satellite" onclick="switchLayer('satellite')">Satellite</button>
                    <button id="btn-radar" onclick="toggleRadar()">Toggle Rain Radar</button>
                </div>
            </div>

            <div class="control-group">
                <h3>Plan Trip</h3>
                <div class="input-group">
                    <input type="text" id="start-loc" placeholder="Start Location (e.g. Denver)">
                    <input type="text" id="end-loc" placeholder="End Location (e.g. Salt Lake City)">
                </div>
                <button class="action-btn" onclick="planRoute()">Find Route & Weather</button>
            </div>

            <div class="control-group">
                <h3>Marked Locations</h3>
                <ul id="pin-list" class="pin-list">
                    <li class="empty-state">No pins added yet. Double-click map to add.</li>
                </ul>
                <button class="secondary-btn" onclick="clearAllPins()">Clear Map</button>
            </div>

            <div class="control-group">
                <h3>Weather Along Route</h3>
                <div id="start-weather"></div>
                <div id="end-weather"></div>
            </div>

            <div class="control-group">
                <h3>AI Assistant</h3>
                <button class="action-btn" style="background-color: #6c5ce7;" onclick="getTripReview()">
                    Get Safety Review
                </button>
                <div id="ai-response-text" style="margin-top:10px; font-size: 0.9rem; color: #444; background: #fff; padding: 10px; border-radius: 4px; min-height: 20px;">
                    </div>
            </div>

        </aside>

        <div id="map-container">
            <div id="map"></div> <div class="floating-btns">
                <button id="floating-weather-btn">Get Weather</button>
                <button id="floating-clear-btn">Clear Pins</button>
                <button id="floating-confirm-btn">Confirm Route</button>
            </div>
        </div>
        
    </div>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="https://unpkg.com/leaflet-routing-machine@latest/dist/leaflet-routing-machine.js"></script>
    <script src="./js/script.js"></script>
</body>
</html>